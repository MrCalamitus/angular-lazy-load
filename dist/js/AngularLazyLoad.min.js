(function(){window._||(window._={throttle:function(f,c,e){c||(c=250);var b,d;return function(){var k=e||this,a=+new Date,g=arguments;b&&a<b+c?(clearTimeout(d),d=setTimeout(function(){b=a;f.apply(k,g)},c+b-a)):(b=a,f.apply(k,g))}}});var l=window._;angular.module("angular-lazy-load",[]).provider("lazyLoad",function(){this.scrollOffset=null;this.useIntersectionObserver=!0;this.setScrollOffset=function(f){this.scrollOffset=f};this.setUseIntersectionObserver=function(f){this.useIntersectionObserver=f};
this.$get=function(){return this}}).directive("onScrollTo",["$window","$timeout","lazyLoad",function(f,c,e){var b={intersectionThreshold:.1,throttleWait:20,unobserveInstantly:!0,observeInstantly:!0,useIntersectionObserver:e.useIntersectionObserver,intersectionRoot:null,intersectionRootMargin:"0px",scrollOffset:e.scrollOffset};return{restrict:"A",link:function(d,c,a){var g=d.$eval(a.onScrollTo);a={intersectionRatio:d.$eval(a.scrollThreshold),throttleWait:d.$eval(a.scrollThrottle),unobserveInstantly:d.$eval(a.scrollUnobserve),
observeInstantly:d.$eval(a.scrollObserve),intersectionRoot:d.$eval(a.scrollRoot),intersectionRootMargin:d.$eval(a.scrollRootMargin),scrollOffset:d.$eval(a.scrollOffset),useIntersectionObserver:d.$eval(a.useIo)};for(var h in a){var e=a[h];null!=e&&(b[h]=e)}if(b.useIntersectionObserver&&"undefined"!==typeof IntersectionObserver){null!=b.scrollOffset&&b.intersectionRootMargin&&(h=b.intersectionRootMargin.split(" ").splice(0,1),h=h.concat([b.scrollOffset+"px"]),h.join(" "));var k=new IntersectionObserver(function(a){if(0!=
a[0].intersectionRatio&&(d.$apply(g),b.unobserveInstantly))return k.unobserve(c[0])},{root:b.intersectionRoot,rootMargin:b.intersectionRootMargin,threshold:b.intersectionThreshold});return k.observe(c[0])}var m=b.scrollOffset||0,n=l.throttle(function(a){if(null==c[0].offsetParent)return!1;a=function(a){return a[0].getBoundingClientRect().top+window.pageYOffset-a[0].ownerDocument.documentElement.clientTop};var e=angular.element(b.intersectionRoot);if((e[0]?a(e)+e[0].offsetHeight:window.innerHeight+
window.pageYOffset)>a(c)-m&&(d.$apply(g),b.unobserveInstantly))return f.removeEventListener("scroll",n)},b.throttleWait);d.$apply(g)}}}]).directive("ngLazyLoad",["lazyLoad",function(f){return{restrict:"A",controller:["$element",function(c){this.scrollOffset=f.scrollOffset;this.aot=c.attr("aot")||!1;this.scrollHandler=function(e){c.attr("lazy-src")&&(c.attr("src",c.attr("lazy-src")),c.removeAttr("lazy-src"));c.attr("use-io")&&c.removeAttr("use-io")}}],controllerAs:"ll",template:"\x3cimg on-scroll-to\x3d'll.scrollHandler' use-io\x3d'!ll.aot' /\x3e",
replace:!0,priority:50}}])})();
